import type {
  Classification,
  LorcanaAbilityCost,
  ShiftEffect,
} from "~/game-engine/engines/lorcana/src/abilities/ability-types";
import type { LorcanaKeywordAbility } from "~/game-engine/engines/lorcana/src/abilities/keyword/keyword";

// **1.6. Types of Abilities**

// **1.6.1.   **There are several kinds of abilities in the *Disney Lorcana* TCG.
// **1.6.1.1. ** *Keywords* are words or shortened phrases that represent a larger ability or abilities. See section 10 for the full list of current keywords.
// **1.6.1.2. ** *Triggered abilities* continuously look for a specific condition and have an effect when that condition is met. Triggered abilities follow the rules in section 7.4.
// **1.6.1.3. ** *Activated abilities* have a cost and an effect that occurs if that cost is paid. Activated abilities fol ow the rules in section 7.5.
// **1.6.1.4. ** *Static abilities* are effects that are continuously active, either for a fixed length of time or for as long as the card generating the effect is in play. Static abilities fol ow the rules in section 7.6.
// **1.6.1.5. ** *Replacement effects* are generated by some static abilities. These replace one effect with another. Replacement effects fol ow the rules in section 7.7.
// **1.6.2.   **Whenever an effect would affect multiple players at the same time, the active player resolves that effect first, then in turn order each other player resolves that effect.
export type LorcanaAbilityType =
  | "activated"
  | "triggered"
  | "static"
  | "keyword"
  | "replacement";

export interface LorcanaBaseAbility {
  type: LorcanaAbilityType;
  name?: string;
  nameKey?: string; // For translation purposes
  text?: string;
  textKey?: string; // For translation purposes
}

export type LorcanaAbility = LorcanaKeywordAbility;

export type LorcanaDynamicValue = unknown;

export type LorcanaEffect = unknown;

export type LorcanaAbilityDuration =
  | { type: "permanent" }
  | { type: "while-challenge" };

export type ShiftAbility = {
  type: "standard" | "classification" | "universal";
  cost: LorcanaAbilityCost;
  value?: number | LorcanaDynamicValue; // For cost reduction calculations
  targetClassification?: Classification | Classification[]; // For classification Shift
  countsAsNames?: string[]; // For "counts as being named both X and Y"
  effects?: ShiftEffect[]; // For "if you used Shift to play them" effects
};
