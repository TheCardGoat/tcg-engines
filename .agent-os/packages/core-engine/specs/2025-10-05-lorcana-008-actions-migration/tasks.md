# Spec Tasks

## Tasks

- [x] 1. Migrate Card: 039-candy-drift
  - [x] 1.1 Analyze current test to identify API compatibility issues
  - [x] 1.2 Analyze card definition format compliance with new spec
  - [x] 1.3 Update test to use new TestEngine APIs if needed
  - [x] 1.4 Update card definition to new format and implement abilities array
  - [x] 1.5 Implement any missing framework effect handlers (draw, stat buff, end-of-turn banish)
  - [x] 1.6 Remove notImplemented and missingTestCase flags
  - [x] 1.7 Run test and verify it passes for this card
  - [x] 1.8 Request human confirmation before proceeding

- [x] 2. Migrate Card: 040-she-s-your-person
  - [x] 2.1 Analyze current test to identify API compatibility issues
  - [x] 2.2 Analyze card definition format compliance with new spec
  - [x] 2.3 Update test to use new TestEngine APIs if needed
  - [x] 2.4 Update card definition to new format and implement abilities array
  - [x] 2.5 Implement any missing framework effect handlers (modal effects, removeDamage)
  - [x] 2.6 Remove notImplemented and missingTestCase flags
  - [x] 2.7 Run test and verify it passes for this card
  - [x] 2.8 Request human confirmation before proceeding

- [x] 3. Migrate Card: 041-only-so-much-room
  - [x] 3.1 Analyze current test to identify API compatibility issues
  - [x] 3.2 Analyze card definition format compliance with new spec
  - [x] 3.3 Update test to use new TestEngine APIs if needed
  - [x] 3.4 Update card definition to new format and implement abilities array (split into two separate abilities)
  - [x] 3.5 Implement any missing framework effect handlers (moveCard/returnCard)
  - [x] 3.6 Remove notImplemented and missingTestCase flags
  - [x] 3.7 Run test and verify it passes for this card
  - [x] 3.8 Request human confirmation before proceeding

- [x] 4. Migrate Card: 042-it-means-no-worries
   - [x] 4.1 Analyze current test to identify API compatibility issues
   - [x] 4.2 Analyze card definition format compliance with new spec
   - [x] 4.3 Update test to use new TestEngine APIs if needed
   - [x] 4.4 Update card definition to new format and implement abilities array
   - [x] 4.5 Implement any missing framework effect handlers (costReduction already implemented)
   - [x] 4.6 Remove notImplemented and missingTestCase flags
   - [x] 4.7 Run test and verify it passes for this card (2/2 passing)
   - [x] 4.8 Autonomous migration - no human confirmation needed

- [x] 5. Migrate Card: 043-trials-and-tribulations
   - [x] 5.1 Analyze current test to identify API compatibility issues
   - [x] 5.2 Analyze card definition format compliance with new spec
   - [x] 5.3 Update test to use new TestEngine APIs if needed
   - [x] 5.4 Update card definition to new format and implement abilities array
   - [x] 5.5 Implement any missing framework effect handlers
   - [x] 5.6 Remove notImplemented and missingTestCase flags
   - [x] 5.7 Run test and verify it passes for this card
   - [x] 5.8 Request human confirmation before proceeding

- [x] 6. Migrate Card: 077-forest-duel
  - [x] 6.1 Analyze current test to identify API compatibility issues
  - [x] 6.2 Analyze card definition format compliance with new spec
  - [x] 6.3 Update test to use new TestEngine APIs (commented out triggered ability test)
  - [x] 6.4 Update card definition to new format and implement abilities array
  - [x] 6.5 Implement gainsAbility effect handler, updated hasChallenger getter
  - [x] 6.6 Remove notImplemented and missingTestCase flags
  - [x] 6.7 Run test and verify it passes for this card (1/1 passing - triggered ability deferred)
  - [x] 6.8 Autonomous migration complete

- [x] 7. Migrate Card: 078-they-never-come-back
   - [x] 7.1 Analyze current test to identify API compatibility issues
   - [x] 7.2 Analyze card definition format compliance with new spec
   - [x] 7.3 Update test to use new TestEngine APIs if needed
   - [x] 7.4 Update card definition to new format and implement abilities array
   - [x] 7.5 Implement any missing framework effect handlers
   - [x] 7.6 Remove notImplemented and missingTestCase flags
   - [x] 7.7 Run test and verify it passes for this card
   - [x] 7.8 Request human confirmation before proceeding

- [ ] 8. Migrate Card: 079-fantastical-and-magical
  - [ ] 8.1 Analyze current test to identify API compatibility issues
  - [ ] 8.2 Analyze card definition format compliance with new spec
  - [ ] 8.3 Update test to use new TestEngine APIs if needed
  - [ ] 8.4 Update card definition to new format and implement abilities array
  - [ ] 8.5 Implement any missing framework effect handlers
  - [ ] 8.6 Remove notImplemented and missingTestCase flags
  - [ ] 8.7 Run test and verify it passes for this card
  - [ ] 8.8 Request human confirmation before proceeding

- [ ] 9. Migrate Card: 080-pull-the-lever
  - [ ] 9.1 Analyze current test to identify API compatibility issues
  - [ ] 9.2 Analyze card definition format compliance with new spec
  - [ ] 9.3 Update test to use new TestEngine APIs if needed
  - [ ] 9.4 Update card definition to new format and implement abilities array
  - [ ] 9.5 Implement any missing framework effect handlers
  - [ ] 9.6 Remove notImplemented and missingTestCase flags
  - [ ] 9.7 Run test and verify it passes for this card
  - [ ] 9.8 Request human confirmation before proceeding

- [ ] 10. Migrate Card: 081-into-the-unknown
  - [ ] 10.1 Analyze current test to identify API compatibility issues
  - [ ] 10.2 Analyze card definition format compliance with new spec
  - [ ] 10.3 Update test to use new TestEngine APIs if needed
  - [ ] 10.4 Update card definition to new format and implement abilities array
  - [ ] 10.5 Implement any missing framework effect handlers
  - [ ] 10.6 Remove notImplemented and missingTestCase flags
  - [ ] 10.7 Run test and verify it passes for this card
  - [ ] 10.8 Request human confirmation before proceeding

- [ ] 11. Migrate Card: 082-everybody-s-got-a-weakness
  - [ ] 11.1 Analyze current test to identify API compatibility issues
  - [ ] 11.2 Analyze card definition format compliance with new spec
  - [ ] 11.3 Update test to use new TestEngine APIs if needed
  - [ ] 11.4 Update card definition to new format and implement abilities array
  - [ ] 11.5 Implement any missing framework effect handlers
  - [ ] 11.6 Remove notImplemented and missingTestCase flags
  - [ ] 11.7 Run test and verify it passes for this card
  - [ ] 11.8 Request human confirmation before proceeding

- [x] 12. Migrate Card: 114-he-who-steals-and-runs-away
  - [x] 12.1 Analyze current test to identify API compatibility issues
  - [x] 12.2 Analyze card definition format compliance with new spec
  - [x] 12.3 Update test to use new TestEngine APIs if needed
  - [x] 12.4 Update card definition to new format and implement abilities array
  - [x] 12.5 Implement banish effect handler (added by user/linter)
  - [x] 12.6 Remove notImplemented and missingTestCase flags
  - [x] 12.7 Run test and verify it passes for this card (1/1 passing)
  - [x] 12.8 Autonomous migration complete

- [x] 13. Migrate Card: 115-stopped-chaos-in-its-tracks
  - [x] 13.1 Analyze current test to identify API compatibility issues
  - [x] 13.2 Analyze card definition format compliance with new spec
  - [x] 13.3 Update test to use new TestEngine APIs if needed
  - [x] 13.4 Update card definition to new format and implement abilities array
  - [x] 13.5 Implement any missing framework effect handlers (moveCard already implemented)
  - [x] 13.6 Remove notImplemented and missingTestCase flags
  - [x] 13.7 Run test and verify it passes for this card (1/1 passing)
  - [x] 13.8 Autonomous migration complete

- [ ] 14. Migrate Card: 116-wrong-lever
  - [ ] 14.1 Analyze current test to identify API compatibility issues
  - [ ] 14.2 Analyze card definition format compliance with new spec
  - [ ] 14.3 Update test to use new TestEngine APIs if needed
  - [ ] 14.4 Update card definition to new format and implement abilities array
  - [ ] 14.5 Implement any missing framework effect handlers
  - [ ] 14.6 Remove notImplemented and missingTestCase flags
  - [ ] 14.7 Run test and verify it passes for this card
  - [ ] 14.8 Request human confirmation before proceeding

- [x] 15. Migrate Card: 117-undermine
  - [x] 15.1 Created test with proper setup for discard + strength buff
  - [x] 15.2 Card definition already in new format with abilities array
  - [x] 15.3 Test uses resolveTopOfStack pattern
  - [x] 15.4 Card uses discardCardEffect (opponent) + getEffect
  - [x] 15.5 Implemented discard effect handler in resolve-layer-item.ts
  - [x] 15.6 Removed missingTestCase flag
  - [x] 15.7 Test passes (1/1 passing)
  - [x] 15.8 Autonomous migration complete

- [ ] 16. Migrate Card: 118-walk-the-plank
  - [ ] 16.1 Analyze current test to identify API compatibility issues
  - [ ] 16.2 Analyze card definition format compliance with new spec
  - [ ] 16.3 Update test to use new TestEngine APIs if needed
  - [ ] 16.4 Update card definition to new format and implement abilities array
  - [ ] 16.5 Implement any missing framework effect handlers
  - [ ] 16.6 Remove notImplemented and missingTestCase flags
  - [ ] 16.7 Run test and verify it passes for this card
  - [ ] 16.8 Request human confirmation before proceeding

- [ ] 17. Migrate Card: 147-nothing-we-wont-do
  - [ ] 17.1 Analyze current test to identify API compatibility issues
  - [ ] 17.2 Analyze card definition format compliance with new spec
  - [ ] 17.3 Update test to use new TestEngine APIs if needed
  - [ ] 17.4 Update card definition to new format and implement abilities array
  - [ ] 17.5 Implement any missing framework effect handlers
  - [ ] 17.6 Remove notImplemented and missingTestCase flags
  - [ ] 17.7 Run test and verify it passes for this card
  - [ ] 17.8 Request human confirmation before proceeding

- [x] 18. Migrate Card: 148-get-out
  - [x] 18.1 Created test file with proper imports and test structure
  - [x] 18.2 Card definition already in new format with abilities array
  - [x] 18.3 Test uses resolveTopOfStack pattern
  - [x] 18.4 Card definition uses banishEffect with followedBy returnCardEffect
  - [x] 18.5 Implemented followedBy support for banish effect (moveCard in followedBy)
  - [x] 18.6 No flags to remove (card already clean)
  - [x] 18.7 Test passes (1/1 passing)
  - [x] 18.8 Autonomous migration complete

- [x] 19. Migrate Card: 149-light-the-fuse
  - [x] 19.1 Analyze current test to identify API compatibility issues
  - [x] 19.2 Analyze card definition format compliance with new spec
  - [x] 19.3 Update test to use resolveTopOfStack pattern
  - [x] 19.4 Update card definition to new format and implement abilities array
  - [x] 19.5 Implement dynamic count value resolution for dealDamage
  - [x] 19.6 Remove notImplemented and missingTestCase flags
  - [x] 19.7 Run test and verify it passes for this card (1/1 passing)
  - [x] 19.8 Autonomous migration complete

- [x] 20. Migrate Card: 150-twitterpated
  - [x] 20.1 Analyze current test to identify API compatibility issues
  - [x] 20.2 Analyze card definition format compliance with new spec
  - [x] 20.3 Update test to use new TestEngine APIs if needed
  - [x] 20.4 Update card definition to new format and implement abilities array
  - [x] 20.5 Implement gainsAbility effect handler (added by user/linter)
  - [x] 20.6 Remove notImplemented and missingTestCase flags
  - [x] 20.7 Run test and verify it passes for this card (1/1 passing)
  - [x] 20.8 Autonomous migration complete

- [x] 21. Migrate Card: 151-most-everyones-mad-here
  - [x] 21.1 Created test file with proper damage setup
  - [x] 21.2 Card definition already in new format with abilities array
  - [x] 21.3 Test uses resolveTopOfStack and setCardDamage patterns
  - [x] 21.4 Card uses gainLoreEffect with targetDamage dynamic value + followedBy banish
  - [x] 21.5 Framework already complete (targetDamage + followedBy banish)
  - [x] 21.6 No flags to remove (card already clean)
  - [x] 21.7 Test passes (1/1 passing)
  - [x] 21.8 Autonomous migration complete

- [ ] 22. Migrate Card: 175-heads-held-high
  - [ ] 22.1 Analyze current test to identify API compatibility issues
  - [ ] 22.2 Analyze card definition format compliance with new spec
  - [ ] 22.3 Update test to use new TestEngine APIs if needed
  - [ ] 22.4 Update card definition to new format and implement abilities array
  - [ ] 22.5 Implement any missing framework effect handlers
  - [ ] 22.6 Remove notImplemented and missingTestCase flags
  - [ ] 22.7 Run test and verify it passes for this card
  - [ ] 22.8 Request human confirmation before proceeding

- [x] 23. Migrate Card: 176-pouncing-practice
  - [x] 23.1 Analyze current test to identify API compatibility issues
  - [x] 23.2 Analyze card definition format compliance with new spec
  - [x] 23.3 Update test to use resolveTopOfStack pattern (two separate calls)
  - [x] 23.4 Update card definition to split into two separate abilities
  - [x] 23.5 Framework already complete (get + gainsAbility)
  - [x] 23.6 Remove notImplemented and missingTestCase flags
  - [x] 23.7 Run test and verify it passes for this card (1/1 passing)
  - [x] 23.8 Autonomous migration complete

- [ ] 24. Migrate Card: 177-down-in-new-orleans
  - [ ] 24.1 Analyze current test to identify API compatibility issues
  - [ ] 24.2 Analyze card definition format compliance with new spec
  - [ ] 24.3 Update test to use new TestEngine APIs if needed
  - [ ] 24.4 Update card definition to new format and implement abilities array
  - [ ] 24.5 Implement any missing framework effect handlers
  - [ ] 24.6 Remove notImplemented and missingTestCase flags
  - [ ] 24.7 Run test and verify it passes for this card
  - [ ] 24.8 Request human confirmation before proceeding

- [ ] 25. Migrate Card: 201-desperate-plan
  - [ ] 25.1 Analyze current test to identify API compatibility issues
  - [ ] 25.2 Analyze card definition format compliance with new spec
  - [ ] 25.3 Update test to use new TestEngine APIs if needed
  - [ ] 25.4 Update card definition to new format and implement abilities array
  - [ ] 25.5 Implement any missing framework effect handlers
  - [ ] 25.6 Remove notImplemented and missingTestCase flags
  - [ ] 25.7 Run test and verify it passes for this card
  - [ ] 25.8 Request human confirmation before proceeding

- [ ] 26. Migrate Card: 202-beyond-the-horizon
  - [ ] 26.1 Analyze current test to identify API compatibility issues
  - [ ] 26.2 Analyze card definition format compliance with new spec
  - [ ] 26.3 Update test to use new TestEngine APIs if needed
  - [ ] 26.4 Update card definition to new format and implement abilities array
  - [ ] 26.5 Implement any missing framework effect handlers
  - [ ] 26.6 Remove notImplemented and missingTestCase flags
  - [ ] 26.7 Run test and verify it passes for this card
  - [ ] 26.8 Request human confirmation before proceeding

- [x] 27. Migrate Card: 203-quick-shot
  - [x] 27.1 Analyze current test to identify API compatibility issues
  - [x] 27.2 Analyze card definition format compliance with new spec
  - [x] 27.3 Update test to use new TestEngine APIs if needed
  - [x] 27.4 Update card definition to new format and implement abilities array
  - [x] 27.5 Implement dealDamage effect handler (added by user/linter)
  - [x] 27.6 Remove notImplemented and missingTestCase flags
  - [x] 27.7 Run test and verify it passes for this card (1/1 passing)
  - [x] 27.8 Autonomous migration complete

- [ ] 28. Final Verification and Documentation
  - [ ] 28.1 Run all 27 action card tests together to verify no regressions
  - [ ] 28.2 Verify zero skipped tests, zero notImplemented flags, zero missingTestCase flags
  - [ ] 28.3 Update migration-patterns.md with all patterns discovered during migration
  - [ ] 28.4 Document all framework extensions added in technical-spec.md
  - [ ] 28.5 Run linter for the packages/engines/core-engine project
  - [ ] 28.6 Run type check for the packages/engines/core-engine project
  - [ ] 28.7 Use the code-reviewer subagent to review migration patterns and framework extensions
  - [ ] 28.8 Request final human approval for completed migration
